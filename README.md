# Semifinals Authentication Tokens

Semifinals Authentication Tokens are a special version of [JSON Web Tokens](https://www.rfc-editor.org/rfc/rfc7519) built specifically for the purposes of Semifinals. It contains key information necessary for proper authentication with a minimal footprint, while also guaranteeing the same security as normal JWTs.

## Specification

The sections of the token are separated by dots (`.`) and all sections are encoded in base64. Because of the way the signature is generated, the ID and timestamp ensure the token contains the correct ID and issue date while still allowing these properties to be read by the client.

| Index | Name      | Description                                                    |
| ----- | --------- | -------------------------------------------------------------- |
| 0     | ID        | The user's unique ID                                           |
| 1     | Timestamp | The Semifinals timestamp indicating when the token was created |
| 2     | Signature | The encrypted signature generated from the ID and timestamp    |

### Identification

The token is pinned to a user through their account ID. This value does not change, meaning it can be safely used to identify the user.

### Timestamp

The timestamp represents the issue date of the token. It is stored as the number of seconds since 1st January 2023, converted to a string and then into base64. The unix timestamp can be found by adding the unix timestamp of this date to the decoded timestamp multiplied by 1000, in order to get milliseconds. These packages do not dictate the duration in which a token is valid for, as this is handled by the authentication server.

### Signature

The signature is generated by using the encoded ID and timestamp separated by a dot as the payload and passing it through a sha256 algorithm with a secret key. This key is private in order to keep the system secure. The format of the payload is `id.timestamp` where both values have been converted to base64.
